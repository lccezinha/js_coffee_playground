<!DOCTYPE html>
<html>
<head>
  <title>Cap 06 - Teste Nave!</title>
  <script type="text/javascript" src="animation.js"></script>
  <script type="text/javascript" src="keyboard.js"></script>
  <script type="text/javascript" src="plane.js"></script>
  <script type="text/javascript" src="shot.js"></script>
</head>
<body style="background-color: grey">
  <canvas id="canvas_nave" width="500" height="500"></canvas>
  <script type="text/javascript">
    var canvas = document.getElementById("canvas_nave");
    var context = canvas.getContext('2d');

    var keyboard = new Keyboard(document);
    var animation = new Animation(context);

    var imagePlane = new Image();
    imagePlane.src = "../assets/nave.png";

    var plane = new Plane(context, keyboard, imagePlane);
    animation.newSprite(plane);

    keyboard.shot(SPACE, function() {
      console.log("PEI !");
      plane.shot();
    });

    imagePlane.onload = function() {
      plane.x = canvas.width / 2 - imagePlane.width / 2;
      plane.y = canvas.height - imagePlane.height;
      plane.speed = 3;

      animation.start();
    }
  </script>
</body>
</html>